{
  "hooks": {
    "PostToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "jq -r '.tool_input.file_path // empty' | { read f; if [ -n \"$f\" ] && echo \"$f\" | grep -q '\\.php$'; then if [ -f \"$CLAUDE_PROJECT_DIR/composer.json\" ] || find \"$CLAUDE_PROJECT_DIR\" -maxdepth 2 -name '*.php' -print -quit 2>/dev/null | grep -q .; then cd \"$CLAUDE_PROJECT_DIR\" && ./vendor/bin/pint \"$f\" 2>/dev/null; fi; fi; }",
            "timeout": 30
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "\"$CLAUDE_PROJECT_DIR/.claude/hooks/post-pr-simplify.sh\"",
            "timeout": 30
          }
        ]
      }
    ],
    "PreToolUse": [
      {
        "matcher": "Edit|Write",
        "hooks": [
          {
            "type": "command",
            "command": "python3 -c \"import json,sys; d=json.load(sys.stdin); p=d.get('tool_input',{}).get('file_path',''); sys.exit(2 if any(x in p for x in ['.env','.git/','credentials','package-lock.json']) else 0)\"",
            "timeout": 5
          }
        ]
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "python3 -c \"import json,sys,shlex; d=json.load(sys.stdin); c=d.get('tool_input',{}).get('command',''); parts=c.strip().split(); sys.exit(2 if any('deploy_to_production' in p for p in parts) else 0)\"",
            "timeout": 5
          }
        ]
      }
    ],
    "Notification": [
      {
        "matcher": "permission_prompt|idle_prompt",
        "hooks": [
          {
            "type": "command",
            "command": "notify-send 'Claude Code' 'Awaiting input' 2>/dev/null || true"
          }
        ]
      }
    ]
  }
}
